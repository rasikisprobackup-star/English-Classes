<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Portal - Course Management System</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://unpkg.com/tailwindcss@3.4.1/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }
        .backdrop-blur-sm { backdrop-filter: blur(4px); }
        .backdrop-blur-md { backdrop-filter: blur(12px); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Lucide React icons as SVG components
        const BookOpen = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        );

        const Calendar = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
        );

        const AlertTriangle = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        );

        const X = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        );

        const Check = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        );

        const Plus = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        );

        const Trash2 = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
        );

        const LogOut = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
        );

        const Send = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
        );

        const MessageCircle = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
        );

        const User = ({ className, ...props }) => (
            <svg className={className} {...props} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
        );

        function HomeworkPortal() {
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [isTeacher, setIsTeacher] = useState(false);
            const [showTeacherWarning, setShowTeacherWarning] = useState(false);
            const [showRules, setShowRules] = useState(false);
            const [password, setPassword] = useState('');
            const [teacherCode, setTeacherCode] = useState('');
            const [studentName, setStudentName] = useState('');
            const [error, setError] = useState('');
            const [homeworks, setHomeworks] = useState([]);
            const [newHomework, setNewHomework] = useState({
                title: '',
                description: '',
                dueDate: '',
                subject: ''
            });
            const [replyTexts, setReplyTexts] = useState({});
            const [expandedReplies, setExpandedReplies] = useState({});

            const SITE_PASSWORD = 'OnlineClass567';
            const TEACHER_PASSWORD = 'Teacher351';

            const rules = [
                "Be respectful to teachers and fellow students at all times",
                "Submit all homework assignments by the due date",
                "Do not share your login credentials with others",
                "Contact your teacher if you need an extension on an assignment",
                "Check the portal daily for new assignments and updates",
                "Complete all work honestly without plagiarism",
                "Report any technical issues to your teacher immediately",
                "Keep the classroom portal professional and educational"
            ];

            const handleLogin = (e) => {
                e?.preventDefault();
                if (password === SITE_PASSWORD && studentName.trim()) {
                    setIsAuthenticated(true);
                    setError('');
                } else if (!studentName.trim()) {
                    setError('Please enter your name.');
                } else {
                    setError('Incorrect password. Please try again.');
                }
            };

            const handleTeacherAccess = () => {
                setShowTeacherWarning(true);
            };

            const handleTeacherLogin = () => {
                if (teacherCode === TEACHER_PASSWORD) {
                    setIsTeacher(true);
                    setShowTeacherWarning(false);
                    setShowRules(true);
                    setError('');
                } else {
                    setError('Incorrect teacher code. Access denied.');
                    setShowTeacherWarning(false);
                }
            };

            const handleAddHomework = () => {
                if (newHomework.title && newHomework.dueDate) {
                    setHomeworks([...homeworks, { 
                        ...newHomework, 
                        id: Date.now(),
                        replies: []
                    }]);
                    setNewHomework({ title: '', description: '', dueDate: '', subject: '' });
                }
            };

            const handleDeleteHomework = (id) => {
                setHomeworks(homeworks.filter(hw => hw.id !== id));
            };

            const handleAddReply = (homeworkId) => {
                const replyText = replyTexts[homeworkId];
                if (!replyText?.trim()) return;

                setHomeworks(homeworks.map(hw => {
                    if (hw.id === homeworkId) {
                        return {
                            ...hw,
                            replies: [...(hw.replies || []), {
                                id: Date.now(),
                                text: replyText,
                                author: studentName,
                                timestamp: new Date().toISOString()
                            }]
                        };
                    }
                    return hw;
                }));

                setReplyTexts({ ...replyTexts, [homeworkId]: '' });
            };

            const handleDeleteReply = (homeworkId, replyId) => {
                setHomeworks(homeworks.map(hw => {
                    if (hw.id === homeworkId) {
                        return {
                            ...hw,
                            replies: hw.replies.filter(r => r.id !== replyId)
                        };
                    }
                    return hw;
                }));
            };

            const toggleReplies = (homeworkId) => {
                setExpandedReplies({
                    ...expandedReplies,
                    [homeworkId]: !expandedReplies[homeworkId]
                });
            };

            const handleLogout = () => {
                setIsAuthenticated(false);
                setIsTeacher(false);
                setPassword('');
                setTeacherCode('');
                setStudentName('');
                setShowRules(false);
            };

            if (!isAuthenticated) {
                return (
                    <div className="min-h-screen bg-cover bg-center bg-fixed relative" style={{
                        backgroundImage: 'url(https://images.unsplash.com/photo-1541339907198-e08756dedf3f?w=1600&q=80)'
                    }}>
                        <div className="absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"></div>
                        <div className="relative min-h-screen flex items-center justify-center p-4">
                            <div className="bg-white bg-opacity-95 backdrop-blur-md rounded-2xl shadow-2xl p-8 w-full max-w-md border border-gray-200">
                                <div className="text-center mb-8">
                                    <BookOpen className="w-16 h-16 mx-auto text-blue-700 mb-4" />
                                    <h1 className="text-4xl font-bold text-gray-900 mb-2">Academic Portal</h1>
                                    <p className="text-gray-600">Student & Faculty Access</p>
                                </div>
                                
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-gray-700 font-semibold mb-2">Full Name</label>
                                        <input
                                            type="text"
                                            value={studentName}
                                            onChange={(e) => setStudentName(e.target.value)}
                                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-600 focus:outline-none bg-white"
                                            placeholder="Enter your name"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-gray-700 font-semibold mb-2">Access Code</label>
                                        <input
                                            type="password"
                                            value={password}
                                            onChange={(e) => setPassword(e.target.value)}
                                            onKeyPress={(e) => e.key === 'Enter' && handleLogin()}
                                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-600 focus:outline-none bg-white"
                                            placeholder="Enter portal password"
                                        />
                                    </div>
                                    
                                    {error && (
                                        <div className="p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm">
                                            {error}
                                        </div>
                                    )}
                                    
                                    <button
                                        onClick={handleLogin}
                                        className="w-full bg-blue-700 hover:bg-blue-800 text-white font-bold py-3 rounded-lg transition duration-200 shadow-lg"
                                    >
                                        Sign In
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            if (showTeacherWarning) {
                return (
                    <div className="min-h-screen bg-cover bg-center bg-fixed relative" style={{
                        backgroundImage: 'url(https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=1600&q=80)'
                    }}>
                        <div className="absolute inset-0 bg-black bg-opacity-60 backdrop-blur-sm"></div>
                        <div className="relative min-h-screen flex items-center justify-center p-4">
                            <div className="bg-white bg-opacity-95 backdrop-blur-md rounded-2xl shadow-2xl p-8 w-full max-w-md border border-yellow-300">
                                <div className="text-center mb-6">
                                    <AlertTriangle className="w-20 h-20 mx-auto text-yellow-600 mb-4" />
                                    <h2 className="text-3xl font-bold text-gray-900 mb-4">⚠️ Faculty Authorization Required ⚠️</h2>
                                    <p className="text-gray-800 text-lg leading-relaxed font-medium">
                                        Unauthorized access to faculty privileges will result in immediate account suspension and disciplinary action.
                                    </p>
                                </div>
                                
                                <div className="mb-6">
                                    <label className="block text-gray-700 font-semibold mb-2">Faculty Access Code</label>
                                    <input
                                        type="password"
                                        value={teacherCode}
                                        onChange={(e) => setTeacherCode(e.target.value)}
                                        className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-600 focus:outline-none bg-white"
                                        placeholder="Enter faculty code"
                                    />
                                </div>
                                
                                {error && (
                                    <div className="mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm">
                                        {error}
                                    </div>
                                )}
                                
                                <div className="flex gap-3">
                                    <button
                                        onClick={() => setShowTeacherWarning(false)}
                                        className="flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-lg transition duration-200 flex items-center justify-center gap-2 shadow-lg"
                                    >
                                        <X className="w-5 h-5" /> Cancel
                                    </button>
                                    <button
                                        onClick={handleTeacherLogin}
                                        className="flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition duration-200 flex items-center justify-center gap-2 shadow-lg"
                                    >
                                        <Check className="w-5 h-5" /> Proceed
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            if (showRules) {
                return (
                    <div className="min-h-screen bg-cover bg-center bg-fixed relative" style={{
                        backgroundImage: 'url(https://images.unsplash.com/photo-1497633762265-9d179a990aa6?w=1600&q=80)'
                    }}>
                        <div className="absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"></div>
                        <div className="relative min-h-screen flex items-center justify-center p-4">
                            <div className="bg-white bg-opacity-95 backdrop-blur-md rounded-2xl shadow-2xl p-8 w-full max-w-3xl border border-gray-200">
                                <h2 className="text-4xl font-bold text-center text-gray-900 mb-8">Academic Code of Conduct</h2>
                                
                                <div className="space-y-4 mb-8">
                                    {rules.map((rule, index) => (
                                        <div key={index} className="flex items-start gap-4 p-4 bg-blue-50 rounded-lg border border-blue-200 shadow-sm">
                                            <span className="flex-shrink-0 w-10 h-10 bg-blue-700 text-white rounded-full flex items-center justify-center font-bold text-lg">
                                                {index + 1}
                                            </span>
                                            <p className="text-gray-800 pt-2 font-medium">{rule}</p>
                                        </div>
                                    ))}
                                </div>
                                
                                <button
                                    onClick={() => setShowRules(false)}
                                    className="w-full bg-blue-700 hover:bg-blue-800 text-white font-bold py-4 rounded-lg transition duration-200 shadow-lg text-lg"
                                >
                                    Continue to Dashboard
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-cover bg-center bg-fixed relative" style={{
                    backgroundImage: 'url(https://images.unsplash.com/photo-1562774053-701939374585?w=1600&q=80)'
                }}>
                    <div className="absolute inset-0 bg-gradient-to-br from-blue-900 to-gray-900 bg-opacity-85"></div>
                    
                    <div className="relative">
                        <div className="bg-white bg-opacity-95 backdrop-blur-md shadow-xl border-b-4 border-blue-700">
                            <div className="max-w-7xl mx-auto px-6 py-5 flex items-center justify-between">
                                <div className="flex items-center gap-4">
                                    <BookOpen className="w-10 h-10 text-blue-700" />
                                    <div>
                                        <h1 className="text-3xl font-bold text-gray-900">Academic Portal</h1>
                                        <p className="text-sm text-gray-600">Course Management System</p>
                                    </div>
                                </div>
                                <div className="flex items-center gap-4">
                                    <div className="text-right">
                                        <p className="text-sm text-gray-600">Logged in as</p>
                                        <p className="font-bold text-gray-900">{studentName}</p>
                                    </div>
                                    {isTeacher && (
                                        <span className="bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg">
                                            FACULTY
                                        </span>
                                    )}
                                    <button
                                        onClick={handleLogout}
                                        className="flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded-lg transition duration-200 font-semibold shadow-lg"
                                    >
                                        <LogOut className="w-4 h-4" /> Sign Out
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div className="max-w-7xl mx-auto p-6">
                            {!isTeacher && (
                                <div className="mb-6">
                                    <button
                                        onClick={handleTeacherAccess}
                                        className="bg-blue-700 hover:bg-blue-800 text-white font-bold py-3 px-8 rounded-lg transition duration-200 shadow-lg"
                                    >
                                        Faculty Portal Access
                                    </button>
                                </div>
                            )}

                            {isTeacher && (
                                <div className="bg-white bg-opacity-95 backdrop-blur-md rounded-xl shadow-2xl p-8 mb-6 border border-gray-200">
                                    <h2 className="text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                                        <Plus className="w-8 h-8 text-blue-700" /> Create Assignment
                                    </h2>
                                    
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                        <div>
                                            <label className="block text-gray-800 font-bold mb-2">Assignment Title</label>
                                            <input
                                                type="text"
                                                value={newHomework.title}
                                                onChange={(e) => setNewHomework({...newHomework, title: e.target.value})}
                                                className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-600 focus:outline-none bg-white"
                                                placeholder="e.g., Research Paper on Climate Change"
                                            />
                                        </div>
                                        
                                        <div>
                                            <label className="block text-gray-800 font-bold mb-2">Course/Subject</label>
                                            <input
                                                type="text"
                                                value={newHomework.subject}
                                                onChange={(e) => setNewHomework({...newHomework, subject: e.target.value})}
                                                className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-600 focus:outline-none bg-white"
                                                placeholder="e.g., Environmental Science 201"
                                            />
                                        </div>
                                    </div>
                                    
                                    <div className="mb-6">
                                        <label className="block text-gray-800 font-bold mb-2">Assignment Details</label>
                                        <textarea
                                            value={newHomework.description}
                                            onChange={(e) => setNewHomework({...newHomework, description: e.target.value})}
                                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-600 focus:outline-none h-32 bg-white"
                                            placeholder="Provide detailed instructions, requirements, and grading criteria..."
                                        />
                                    </div>
                                    
                                    <div className="mb-6">
                                        <label className="block text-gray-800 font-bold mb-2">Due Date & Time</label>
                                        <input
                                            type="datetime-local"
                                            value={newHomework.dueDate}
                                            onChange={(e) => setNewHomework({...newHomework, dueDate: e.target.value})}
                                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-600 focus:outline-none bg-white"
                                        />
                                    </div>
                                    
                                    <button
                                        onClick={handleAddHomework}
                                        className="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg transition duration-200 shadow-lg text-lg"
                                    >
                                        Publish Assignment
                                    </button>
                                </div>
                            )}

                            <div className="bg-white bg-opacity-95 backdrop-blur-md rounded-xl shadow-2xl p-8 border border-gray-200">
                                <h2 className="text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                                    <Calendar className="w-8 h-8 text-blue-700" /> Course Assignments
                                </h2>
                                
                                {homeworks.length === 0 ? (
                                    <div className="text-center py-12">
                                        <BookOpen className="w-16 h-16 mx-auto text-gray-400 mb-4" />
                                        <p className="text-gray-500 text-lg">No assignments posted yet. Check back soon.</p>
                                    </div>
                                ) : (
                                    <div className="space-y-6">
                                        {homeworks.map((hw) => (
                                            <div key={hw.id} className="border-2 border-blue-200 rounded-xl p-6 hover:shadow-xl transition duration-200 bg-blue-50">
                                                <div className="flex justify-between items-start mb-4">
                                                    <div className="flex-1">
                                                        <h3 className="text-2xl font-bold text-gray-900 mb-2">{hw.title}</h3>
                                                        {hw.subject && (
                                                            <span className="inline-block bg-blue-700 text-white text-sm px-4 py-1 rounded-full font-semibold">
                                                                {hw.subject}
                                                            </span>
                                                        )}
                                                    </div>
                                                    {isTeacher && (
                                                        <button
                                                            onClick={() => handleDeleteHomework(hw.id)}
                                                            className="text-red-600 hover:text-red-800 transition duration-200 p-2"
                                                        >
                                                            <Trash2 className="w-6 h-6" />
                                                        </button>
                                                    )}
                                                </div>
                                                
                                                {hw.description && (
                                                    <p className="text-gray-800 mb-4 text-lg leading-relaxed">{hw.description}</p>
                                                )}
                                                
                                                <div className="flex items-center gap-2 text-gray-700 mb-4 bg-white p-3 rounded-lg">
                                                    <Calendar className="w-5 h-5 text-blue-700" />
                                                    <span className="font-semibold">
                                                        Due: {new Date(hw.dueDate).toLocaleString('en-US', {
                                                            weekday: 'long',
                                                            year: 'numeric',
                                                            month: 'long',
                                                            day: 'numeric',
                                                            hour: '2-digit',
                                                            minute: '2-digit'
                                                        })}
                                                    </span>
                                                </div>

                                                <div className="border-t-2 border-blue-300 pt-4 mt-4">
                                                    <button
                                                        onClick={() => toggleReplies(hw.id)}
                                                        className="flex items-center gap-2 text-blue-700 hover:text-blue-900 font-semibold mb-4"
                                                    >
                                                        <MessageCircle className="w-5 h-5" />
                                                        <span>
                                                            {hw.replies?.length || 0} {hw.replies?.length === 1 ? 'Response' : 'Responses'}
                                                        </span>
                                                    </button>

                                                    {expandedReplies[hw.id] && (
                                                        <div className="space-y-3 mb-4">
                                                            {hw.replies?.map((reply) => (
                                                                <div key={reply.id} className="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                                                                    <div className="flex justify-between items-start mb-2">
                                                                        <div className="flex items-center gap-2">
                                                                            <User className="w-4 h-4 text-blue-700" />
                                                                            <span className="font-bold text-gray-900">{reply.author}</span>
                                                                            <span className="text-sm text-gray-500">
                                                                                {new Date(reply.timestamp).toLocaleString()}
                                                                            </span>
                                                                        </div>
                                                                        {isTeacher && (
                                                                            <button
                                                                                onClick={() => handleDeleteReply(hw.id, reply.id)}
                                                                                className="text-red-500 hover:text-red-700 text-sm"
                                                                            >
                                                                                <Trash2 className="w-4 h-4" />
                                                                            </button>
                                                                        )}
                                                                    </div>
                                                                    <p className="text-gray-800">{reply.text}</p>
                                                                </div>
                                                            ))}
                                                        </div>
                                                    )}

                                                    {!isTeacher && (
                                                        <div className="flex gap-2">
                                                            <input
                                                                type="text"
                                                                value={replyTexts[hw.id] || ''}
                                                                onChange={(e) => setReplyTexts({...replyTexts, [hw.id]: e.target.value})}
                                                                onKeyPress={(e) => e.key === 'Enter' && handleAddReply(hw.id)}
                                                                className="flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-600 focus:outline-none bg-white"
                                                                placeholder="Ask a question or share your progress..."
                                                            />
                                                            <button
                                                                onClick={() => handleAddReply(hw.id)}
                                                                className="bg-blue-700 hover:bg-blue-800 text-white px-6 py-3 rounded-lg transition duration-200 flex items-center gap-2 font-semibold shadow-lg"
                                                            >
                                                                <Send className="w-5 h-5" />
                                                                Send
                                                            </button>
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<HomeworkPortal />, document.getElementById('root'));
    </script>
</body>
</html>